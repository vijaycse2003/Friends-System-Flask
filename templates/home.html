<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Flask Home Page</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
              crossorigin="anonymous">
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
              integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
              crossorigin="anonymous"
              referrerpolicy="no-referrer"/>
        <script src="{{url_for('static',filename='./js/jquery.min.js')}}"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <div class="offset-md-2 col-md-8">
                    <h1>Friends Management System Using Python Flask & Sqlite3</h1>
                    {% with messages =get_flashed_messages(with_categories =true)%}
                        {% if messages %}
                            {% for category,message in messages %}<h4 class="alert alert-{{ category }}">{{ message }}</h4>{% endfor %}
                        {% endif %}
                    {% endwith %}
                    <p class="text-end ">
                        <a class="btn btn-success" href="{{ url_for('Insert')}}"><i class="fa fa-plus"></i>   ADD FRIENDS</a>
                    </p>
                    <table class="table table-boardered table-hover">
                        <tr class="bg-info ">
                            <th>ID</th>
                            <th>NAME</th>
                            <th>AGE</th>
                            <th>CITY</th>
                            <th>EDIT</th>
                            <th>DELETE</th>
                        </tr>
                        {% for data in dataset %}
                            <tr>
                                <td>
                                    <h4>{{ data["id"] }}</h4>
                                </td>
                                <td>
                                    <h4>{{ data["name"] }}</h4>
                                </td>
                                <td>
                                    <h4>{{ data["age"] }}</h4>
                                </td>
                                <td>
                                    <h4>{{ data["city"] }}</h4>
                                </td>
                                <td>
                                    <a href="{{ url_for('Update',id=data.id)}}" class="btn btn-warning "><i class="fa fa-edit"></i> Edit</a>
                                </td>
                                <td>
                                    <a onclick="return confirm('Are you sure to delete')"
                                       href="{{ url_for('Delete',id=data.id,sname=data.name)}}"
                                       class="btn btn-danger"><i class="fa fa-trash"></i> Delete</a>
                                </td>
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function(){
               $(".alert").hide(10000)
           })
        </script>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</html>
